<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="alternate" type="text/html" href="/v/v1.13.0/docs/reference/configuration/_print/">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/v/v1.13.0/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/v/v1.13.0/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/v/v1.13.0/favicons/android-192x192.png" sizes="192x192">

<title>Configuration | INDIGO IAM</title>
<meta name="description" content="IAM service configuration reference
">
<meta property="og:title" content="Configuration" />
<meta property="og:description" content="IAM service configuration reference
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/v/v1.13.0/docs/reference/configuration/" />

<meta itemprop="name" content="Configuration">
<meta itemprop="description" content="IAM service configuration reference
"><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Configuration"/>
<meta name="twitter:description" content="IAM service configuration reference
"/>




<link rel="preload" href="/v/v1.13.0/scss/main.min.8b15a284065632327b8c02a701e1c2297b5d1c084085e061cb33bbd46e6313e8.css" as="style">
<link href="/v/v1.13.0/scss/main.min.8b15a284065632327b8c02a701e1c2297b5d1c084085e061cb33bbd46e6313e8.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/v/v1.13.0/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">INDIGO IAM</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" href="/v/v1.13.0/docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/v/v1.13.0/blog/"><span>Blog</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Releases</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.13.0">v1.13.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.12.1">v1.12.1</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.12.0">v1.12.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.11.0">v1.11.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.10.2">v1.10.2</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.10.1">v1.10.1</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.10.0">v1.10.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.9.0">v1.9.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.8.4">v1.8.4</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.8.3">v1.8.3</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.8.2">v1.8.2</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.8.1">v1.8.1</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.8.0">v1.8.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.7.2">v1.7.2</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.7.1">v1.7.1</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.7.0">v1.7.0</a></li>
    <li><a class="dropdown-item" href="https://indigo-iam.github.io/docs/v/current/">older releases</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/v/v1.13.0/offline-search-index.febc641c926c1f262c054f441b2f9695.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/v/v1.13.0/offline-search-index.febc641c926c1f262c054f441b2f9695.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-vv1130docs-li">
  <a href="/v/v1.13.0/docs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-vv1130docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsoverview-li">
  <a href="/v/v1.13.0/docs/overview/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsoverview"><span class="">Overview</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docsgetting-started-li">
  <a href="/v/v1.13.0/docs/getting-started/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-started"><span class="">Getting Started</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-startednginx-li">
  <a href="/v/v1.13.0/docs/getting-started/nginx/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-startednginx"><span class="">NGINX configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-startedmariadb-li">
  <a href="/v/v1.13.0/docs/getting-started/mariadb/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-startedmariadb"><span class="">Database configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-startedjwk-li">
  <a href="/v/v1.13.0/docs/getting-started/jwk/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-startedjwk"><span class="">JSON Web Keys configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-starteddocker-li">
  <a href="/v/v1.13.0/docs/getting-started/docker/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-starteddocker"><span class="">Deployment with Docker</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-startedpackages-li">
  <a href="/v/v1.13.0/docs/getting-started/packages/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-startedpackages"><span class="">Deployment with packages</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsgetting-startedbasic_setup-li">
  <a href="/v/v1.13.0/docs/getting-started/basic_setup/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsgetting-startedbasic_setup"><span class="">Basic IAM setup</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-vv1130docsreference-li">
  <a href="/v/v1.13.0/docs/reference/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreference"><span class="">Reference</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docsreferenceapi-li">
  <a href="/v/v1.13.0/docs/reference/api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapi"><span class="">APIs</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiaup-api-li">
  <a href="/v/v1.13.0/docs/reference/api/aup-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiaup-api"><span class="">AUP management API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiaup-sign-api-li">
  <a href="/v/v1.13.0/docs/reference/api/aup-sign-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiaup-sign-api"><span class="">AUP signature API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiproxycert-api-li">
  <a href="/v/v1.13.0/docs/reference/api/proxycert-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiproxycert-api"><span class="">Proxy certificate API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapigroup-requests-li">
  <a href="/v/v1.13.0/docs/reference/api/group-requests/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapigroup-requests"><span class="">Group requests API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapihealth_endpoints-li">
  <a href="/v/v1.13.0/docs/reference/api/health_endpoints/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapihealth_endpoints"><span class="">Health checks</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiaccount-api-li">
  <a href="/v/v1.13.0/docs/reference/api/account-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiaccount-api"><span class="">IAM account API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapitokens-api-li">
  <a href="/v/v1.13.0/docs/reference/api/tokens-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapitokens-api"><span class="">IAM Token management API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapioauth-token-exchange-li">
  <a href="/v/v1.13.0/docs/reference/api/oauth-token-exchange/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapioauth-token-exchange"><span class="">OAuth token exchange API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapioauth-token-introspection-li">
  <a href="/v/v1.13.0/docs/reference/api/oauth-token-introspection/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapioauth-token-introspection"><span class="">OAuth token introspection API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapioidc-client-management-li">
  <a href="/v/v1.13.0/docs/reference/api/oidc-client-management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapioidc-client-management"><span class="">OpenID Connect client management API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapioidc-client-registration-li">
  <a href="/v/v1.13.0/docs/reference/api/oidc-client-registration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapioidc-client-registration"><span class="">OpenID Connect client registration API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiscim-api-li">
  <a href="/v/v1.13.0/docs/reference/api/scim-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiscim-api"><span class="">SCIM API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapiscope-policy-api-li">
  <a href="/v/v1.13.0/docs/reference/api/scope-policy-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapiscope-policy-api"><span class="">Scope Policy API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapistats-endpoint-li">
  <a href="/v/v1.13.0/docs/reference/api/stats-endpoint/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapistats-endpoint"><span class="">Statistical endpoint</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceapitoken-exchange-policy-api-li">
  <a href="/v/v1.13.0/docs/reference/api/token-exchange-policy-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceapitoken-exchange-policy-api"><span class="">Token exchange policy API</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-vv1130docsreferenceconfiguration-li">
  <a href="/v/v1.13.0/docs/reference/configuration/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfiguration"><span class="td-sidebar-nav-active-item">Configuration</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationjwt-profiles-li">
  <a href="/v/v1.13.0/docs/reference/configuration/jwt-profiles/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationjwt-profiles"><span class="">JWT profiles support</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationmulti-factor-authn-li">
  <a href="/v/v1.13.0/docs/reference/configuration/multi-factor-authn/" title="Multi-Factor Authentication (MFA)" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationmulti-factor-authn"><span class="">Multi-factor authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationsystem-scopes-li">
  <a href="/v/v1.13.0/docs/reference/configuration/system-scopes/" title="MitreID System Scopes" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationsystem-scopes"><span class="">System scopes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationgroup-enrollment-li">
  <a href="/v/v1.13.0/docs/reference/configuration/group-enrollment/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationgroup-enrollment"><span class="">Automatic group enrollment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationlifecycle-li">
  <a href="/v/v1.13.0/docs/reference/configuration/lifecycle/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationlifecycle"><span class="">Membership lifecycle</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationrcauth-li">
  <a href="/v/v1.13.0/docs/reference/configuration/rcauth/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationrcauth"><span class="">Integration with RCAuth</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationregistration-li">
  <a href="/v/v1.13.0/docs/reference/configuration/registration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationregistration"><span class="">Registration &amp; Enrollment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationscim-response-li">
  <a href="/v/v1.13.0/docs/reference/configuration/scim-response/" title="Handling SCIM response" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationscim-response"><span class="">SCIM response</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationclient-registration-li">
  <a href="/v/v1.13.0/docs/reference/configuration/client-registration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationclient-registration"><span class="">Client registration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationnotifications-li">
  <a href="/v/v1.13.0/docs/reference/configuration/notifications/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationnotifications"><span class="">IAM Notifications</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationjwk-li">
  <a href="/v/v1.13.0/docs/reference/configuration/jwk/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationjwk"><span class="">JSON Web Keys (JWK)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationlocal_authn-li">
  <a href="/v/v1.13.0/docs/reference/configuration/local_authn/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationlocal_authn"><span class="">Local authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docsreferenceconfigurationexternal-authentication-li">
  <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationexternal-authentication"><span class="">External authentication</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationexternal-authenticationoidc-li">
  <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/oidc/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationexternal-authenticationoidc"><span class="">OpenID-Connect authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationexternal-authenticationsaml-li">
  <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/saml/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationexternal-authenticationsaml"><span class="">SAML authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsreferenceconfigurationexternal-authenticationx509-li">
  <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/x509/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsreferenceconfigurationexternal-authenticationx509"><span class="">X.509 authentication</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docstasks-li">
  <a href="/v/v1.13.0/docs/tasks/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasks"><span class="">Tasks</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docstasksadministration-li">
  <a href="/v/v1.13.0/docs/tasks/administration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksadministration"><span class="">IAM organization administration</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksadministrationuser-management-li">
  <a href="/v/v1.13.0/docs/tasks/administration/user-management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksadministrationuser-management"><span class="">User management</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksadministrationclient-status-change-li">
  <a href="/v/v1.13.0/docs/tasks/administration/client-status-change/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksadministrationclient-status-change"><span class="">Disable or Enable a client</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksadministrationgroup-management-li">
  <a href="/v/v1.13.0/docs/tasks/administration/group-management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksadministrationgroup-management"><span class="">Group Management</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksadministrationaup-management-li">
  <a href="/v/v1.13.0/docs/tasks/administration/aup-management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksadministrationaup-management"><span class="">Acceptable Usage Policy (AUP) management</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docstasksdeployment-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeployment"><span class="">IAM service deployment</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentbackup_restore-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/backup_restore/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentbackup_restore"><span class="">Backup &amp; Restore</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentaudit-log-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/audit-log/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentaudit-log"><span class="">Audit log</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentupgrade-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/upgrade/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentupgrade"><span class="">Upgrade</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentha-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/ha/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentha"><span class="">Deploying IAM in HA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentvoms-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/voms/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentvoms"><span class="">Deploying the IAM VOMS attribute authority</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksdeploymentvoms_importer-li">
  <a href="/v/v1.13.0/docs/tasks/deployment/voms_importer/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksdeploymentvoms_importer"><span class="">Importing VOMS information into IAM</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksclientapp-li">
  <a href="/v/v1.13.0/docs/tasks/clientapp/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksclientapp"><span class="">IAM Test Client application</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docstasksuser-li">
  <a href="/v/v1.13.0/docs/tasks/user/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuser"><span class="">User</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserjoining-a-collaboration-li">
  <a href="/v/v1.13.0/docs/tasks/user/joining-a-collaboration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserjoining-a-collaboration"><span class="">Joining an IAM-managed organization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksusergetting-a-token-li">
  <a href="/v/v1.13.0/docs/tasks/user/getting-a-token/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksusergetting-a-token"><span class="">Obtaining an IAM access token from a CLI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserresign-aup-li">
  <a href="/v/v1.13.0/docs/tasks/user/resign-aup/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserresign-aup"><span class="">Re-sign AUP</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserclient-registration-li">
  <a href="/v/v1.13.0/docs/tasks/user/client-registration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserclient-registration"><span class="">Registering a client</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserchange-details-li">
  <a href="/v/v1.13.0/docs/tasks/user/change-details/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserchange-details"><span class="">Change account information</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserchange-password-li">
  <a href="/v/v1.13.0/docs/tasks/user/change-password/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserchange-password"><span class="">Changing the account password</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserjwt-authn-li">
  <a href="/v/v1.13.0/docs/tasks/user/jwt-authn/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserjwt-authn"><span class="">JWT client authentication</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserexternal-account-linking-li">
  <a href="/v/v1.13.0/docs/tasks/user/external-account-linking/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserexternal-account-linking"><span class="">Linking an external account</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserx509-linking-li">
  <a href="/v/v1.13.0/docs/tasks/user/x509-linking/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserx509-linking"><span class="">Linking an X.509 certificate</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksusermanage-active-tokens-li">
  <a href="/v/v1.13.0/docs/tasks/user/manage-active-tokens/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksusermanage-active-tokens"><span class="">Managing active tokens</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksusermanage-approved-sites-li">
  <a href="/v/v1.13.0/docs/tasks/user/manage-approved-sites/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksusermanage-approved-sites"><span class="">Managing approved sites</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksusermanage-ssh-keys-li">
  <a href="/v/v1.13.0/docs/tasks/user/manage-ssh-keys/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksusermanage-ssh-keys"><span class="">Managing SSH keys</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docstasksuserreset-password-li">
  <a href="/v/v1.13.0/docs/tasks/user/reset-password/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docstasksuserreset-password"><span class="">Reset an account password</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-vv1130docsdeveloper-guide-li">
  <a href="/v/v1.13.0/docs/developer-guide/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsdeveloper-guide"><span class="">Developer guide</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-vv1130docsdeveloper-guidespecs-li">
  <a href="/v/v1.13.0/docs/developer-guide/specs/" title="Specifications and useful resources" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-vv1130docsdeveloper-guidespecs"><span class="">Specifications</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/indigo-iam/iam-website/tree/v1.13.0/content/en/docs/reference/configuration/_index.md" class="td-page-meta--view td-page-meta__view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/indigo-iam/iam-website/edit/v1.13.0/content/en/docs/reference/configuration/_index.md" class="td-page-meta--edit td-page-meta__edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/indigo-iam/iam-website/new/v1.13.0/content/en/docs/reference/configuration?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child td-page-meta__child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/indigo-iam/iam-website/issues/new?title=Configuration" class="td-page-meta--issue td-page-meta__issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/indigo-iam/iam/issues/new" class="td-page-meta--project td-page-meta__project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
  <a id="print" href="/v/v1.13.0/docs/reference/configuration/_print/"><i class="fa-solid fa-print fa-fw"></i> Print entire section</a>

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#spring-profiles">Spring profiles</a></li>
    <li><a href="#overriding-default-configuration-templates">Overriding default configuration templates</a></li>
    <li><a href="#basic-service-configuration">Basic service configuration</a></li>
    <li><a href="#organization-configuration">Organization configuration</a></li>
    <li><a href="#access-token-contents-configuration">Access token contents configuration</a></li>
    <li><a href="#database-configuration">Database configuration</a></li>
    <li><a href="#test-client-configuration">Test Client configuration</a></li>
    <li><a href="#redis-configuration">Redis configuration</a></li>
    <li><a href="#local-authentication-settings">Local authentication settings</a></li>
    <li><a href="#google-authentication-settings">Google authentication settings</a></li>
    <li><a href="#saml-authentication-settings">SAML authentication settings</a></li>
    <li><a href="#notification-service-settings">Notification service settings</a></li>
    <li><a href="#account-linking-settings">Account linking settings</a></li>
    <li><a href="#client-registration">Client registration</a></li>
    <li><a href="#client-lifecycle">Client lifecycle</a></li>
    <li><a href="#privacy-policy-settings">Privacy policy settings</a></li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/v/v1.13.0/docs/">Documentation</a></li>
  <li class="breadcrumb-item">
    <a href="/v/v1.13.0/docs/reference/">Reference</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    Configuration</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Configuration</h1>
  <div class="lead">IAM service configuration reference</div>
	<header class="article-meta">
		
</header>
	<p>Most IAM configurable aspects are configured via environment variables and
Spring profile directives.</p>
<h2 id="spring-profiles">Spring profiles</h2>
<p>Spring profiles are used to enable/disable group of IAM functionalities.
Currently the following profiles are defined:</p>
<table>
<thead>
<tr>
<th>Profile name</th>
<th>Active by default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>prod</td>
<td>no</td>
<td>Sets up the environment for IAM in production</td>
</tr>
<tr>
<td>h2-test</td>
<td>yes</td>
<td>Enables h2 in-memory database, useful for development and testing</td>
</tr>
<tr>
<td>mysql-test</td>
<td>no</td>
<td>Like h2-test, but used to develop against a MySQL database</td>
</tr>
<tr>
<td>oidc</td>
<td>no</td>
<td>Enables OIDC authentication (e.g. Google)</td>
</tr>
<tr>
<td>saml</td>
<td>no</td>
<td>Enables SAML authentication</td>
</tr>
<tr>
<td>registration</td>
<td>yes</td>
<td>Enables user registration and reset password functionalities</td>
</tr>
<tr>
<td>wlcg-scopes</td>
<td>no</td>
<td>Enables WLCG token encoding</td>
</tr>
<tr>
<td>mfa</td>
<td>no</td>
<td>Enables Multi-Factor Authentication (MFA) settings</td>
</tr>
</tbody>
</table>
<p>Profiles are enabled by setting the <code>spring.profiles.active</code> Java system
property when starting the IAM service. This can be done, using the official
IAM docker image, by setting the IAM_JAVA_OPTS environment variable as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#000">IAM_JAVA_OPTS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;-Dspring.profiles.active=prod,oidc,saml&#34;</span>
</span></span></code></pre></div><h2 id="overriding-default-configuration-templates">Overriding default configuration templates</h2>
<p>Fine-grained control over configuration can be obtained following the rules for
spring boot <a href="https://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html/boot-features-external-config.html">externalized configuration</a>.
This basically means defining one or more YAML files to override the default
configuration files embedded in the IAM Web Archive (war) package for the Spring profiles
activated for your instance.  The files must be placed in the IAM configuration
directory, which depends on how you deployed IAM:</p>
<table>
<thead>
<tr>
<th>Deployment type</th>
<th>Configuration directory</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td><code>/indigo-iam/config/</code></td>
</tr>
<tr>
<td>Package (RPM)</td>
<td><code>/etc/indigo-iam/config</code></td>
</tr>
</tbody>
</table>
<p><strong>IMPORTANT</strong>: the default configuration should solve most use cases, override
default configuration <strong>only if you know what you are doing</strong>, and for those
scenarios not served by the default templates.</p>
<h2 id="basic-service-configuration">Basic service configuration</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The IAM service will list for requests on this host</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span>localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The IAM service webapp will bind on this port</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">8080</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The IAM web application base URL</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_BASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>http://<span style="color:#4e9a06">${</span><span style="color:#000">IAM_HOST</span><span style="color:#4e9a06">}</span>:8080
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The OpenID Connect issuer configured for this IAM instance.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># This must be equal to IAM_BASE_URL</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ISSUER</span><span style="color:#ce5c00;font-weight:bold">=</span>http://<span style="color:#4e9a06">${</span><span style="color:#000">IAM_HOST</span><span style="color:#4e9a06">}</span>:8080
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The path to the JSON keystore that holds the keys IAM will use to sign and</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># verify token signatures</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_KEY_STORE_LOCATION</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># HTTP caching header setting public key lifetime (in seconds).</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The recommended lifetime according to the WLCG profile* is 6 hours</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_JWK_CACHE_LIFETIME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">21600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># IAM will look for trust anchors in this directory. These trust anchors are</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># needed for TLS operations where the IAM acts as a client (i.e., to</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># authenticate to remote SAML Identity providers)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_X509_TRUST_ANCHORS_DIR</span><span style="color:#ce5c00;font-weight:bold">=</span>/etc/grid-security/certificates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># How frequently (in seconds) should trust anchors be refreshed</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_X509_TRUST_ANCHORS_REFRESH</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">14400</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Use forwarded headers from reverse proxy. Set this to native when deploying the</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># service behind a reverse proxy</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_FORWARD_HEADERS_STRATEGY</span><span style="color:#ce5c00;font-weight:bold">=</span>none
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Tomcat embedded container settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Enables the tomcat access log</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_TOMCAT_ACCESS_LOG_ENABLED</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Directory where the tomcat access log will be written (when enabled)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_TOMCAT_ACCESS_LOG_DIRECTORY</span><span style="color:#ce5c00;font-weight:bold">=</span>/tmp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Actuator endpoint settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Sets the username of the user allowed to have privileged access to actuator</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># endpoints</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACTUATOR_USER_USERNAME</span><span style="color:#ce5c00;font-weight:bold">=</span>user
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Sets the password of the user allowed to have privileged access to actuator</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># endpoints</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACTUATOR_USER_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span>secret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Local resources configuration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Enables the serving of resources from the local file system </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOCAL_RESOURCES_ENABLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Sets the directory that contains the local resources that should be exposed</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOCAL_RESOURCES_LOCATION</span><span style="color:#ce5c00;font-weight:bold">=</span>file:/indigo-iam/local-resources
</span></span></code></pre></div><p>(*) More information <a href="https://github.com/WLCG-AuthZ-WG/common-jwt-profile/blob/master/profile.md#token-validation">here</a>.</p>
<h2 id="organization-configuration">Organization configuration</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The name of the organization managed by this IAM instance</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ORGANISATION_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>indigo-dc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># URL of logo image used in the IAM dashboard (by default the INDIGO-Datacloud</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># project logo image is used)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOGO_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>resources/images/indigo-logo.png
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Size of the logo image (in pixels)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOGO_DIMENSION</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Height of the logo image (in pixels)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOGO_HEIGTH</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">150</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Width of the logo image (in pixels)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOGO_WIDTH</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># String displayed into the brower top bar when accessing the IAM dashboard</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_TOPBAR_TITLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;INDIGO IAM for </span><span style="color:#4e9a06">${</span><span style="color:#000">IAM_ORGANISATION_NAME</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">&#34;</span>
</span></span></code></pre></div><h2 id="access-token-contents-configuration">Access token contents configuration</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Token content settings </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Include authentication claims in issued access tokens</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACCESS_TOKEN_INCLUDE_AUTHN_INFO</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Includes the scope in issued access tokens</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACCESS_TOKEN_INCLUDE_SCOPE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Includes the nbf claim in issued access tokens</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACCESS_TOKEN_INCLUDE_NBF</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span></code></pre></div><h2 id="database-configuration">Database configuration</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The host where the MariaDB/MySQL daemon is running</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The database port</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3306</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The database name</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>iam
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The database username</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_USERNAME</span><span style="color:#ce5c00;font-weight:bold">=</span>iam
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The database password </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">pwd</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Database connection pool options</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Maximum number of active connections to the database</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_MAX_ACTIVE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">50</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Maximum number of idle connections in the pool </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_MAX_IDLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Initial size of the database connection pool</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_INITIAL_SIZE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">8</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Should idle connections in the pool be tested?</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_TEST_WHILE_IDLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Should connections in the pool be tested when borrowed?</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_TEST_ON_BORROW</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Which SQL query should be used to test connections?</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_VALIDATION_QUERY</span><span style="color:#ce5c00;font-weight:bold">=</span>SELECT <span style="color:#0000cf;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Time between database connection pool eviction runs (in msec)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_TIME_BETWEEN_EVICTION_RUNS_MILLIS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">5000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The minimum amount of time a connection may be idle in the pool</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># before it is considered for eviction (in msec)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DB_MIN_EVICTABLE_IDLE_TIME_MILLIS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">60000</span>
</span></span></code></pre></div><h2 id="test-client-configuration">Test Client configuration</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Public identifier for client application</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_ID</span><span style="color:#ce5c00;font-weight:bold">=</span>client
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Client application&#39;s own password</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_SECRET</span><span style="color:#ce5c00;font-weight:bold">=</span>secret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Default scopes allowed to the client application (optional)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_SCOPES</span><span style="color:#ce5c00;font-weight:bold">=</span>openid profile email
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Use forwarded headers from reverse proxy. Set this to native when deploying the</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># service behind a reverse proxy</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_FORWARD_HEADERS_STRATEGY</span><span style="color:#ce5c00;font-weight:bold">=</span>none
</span></span></code></pre></div><h2 id="redis-configuration">Redis configuration</h2>
<p>IAM supports storing HTTP session information and its in-memory cache
(for the well-known endpoint and scope matchers) in an external <a href="https://redis.io/">redis</a> server.</p>
<p>This can be useful when <a href="../../../docs/tasks/deployment/ha">deploying multiple replicas of the IAM
service</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Redis server settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Redis server hostname</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SPRING_REDIS_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span>localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Redis server port</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SPRING_REDIS_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">6397</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Redis server password.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Leave it empty in case the server does not require any password</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SPRING_REDIS_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span>secret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Session settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Duration of an HTTP session</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SESSION_TIMEOUT_SECS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1800</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set to &#39;redis&#39; in order to handle HTTP session</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># with an external Redis service</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SPRING_SESSION_STORE_TYPE</span><span style="color:#ce5c00;font-weight:bold">=</span>none
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># If set to &#39;true&#39; the status of the Redis service</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># will appear in the IAM Health check endpoint</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_HEALTH_REDIS_PROBE_ENABLED</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Cache settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Enable the caching mechanism in IAM.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># When set to &#39;false&#39;, no-one kind of cache will be used.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The default behavior is an in-memory cache</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CACHE_ENABLED</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Allow to cache the IAM information (i.e. well-known endpoint and</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># scope matchers) into an external Redis service</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CACHE_REDIS_ENABLED</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span></code></pre></div><h2 id="local-authentication-settings">Local authentication settings</h2>
<p>It allows a user to log in with local credentials (username/password).<br>
For more information, see the <a href="local_authn/">Local Authentication section</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set to &#39;hidden&#39; if you want to hide the local login form</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOCAL_AUTHN_LOGIN_PAGE_VISIBILITY</span><span style="color:#ce5c00;font-weight:bold">=</span>visible
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Enables local login form to all users.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># It can be restricted, changing the value to &#39;vo-admins&#39; or &#39;none&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_LOCAL_AUTHN_ENABLED_FOR</span><span style="color:#ce5c00;font-weight:bold">=</span>all
</span></span></code></pre></div><h2 id="google-authentication-settings">Google authentication settings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The Google OAuth client id</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_GOOGLE_CLIENT_ID</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The OAuth client secret</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_GOOGLE_CLIENT_SECRET</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span></code></pre></div><p>For more information and examples, see the <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/oidc/">OpenID Connect
Authentication section</a>.</p>
<h2 id="saml-authentication-settings">SAML authentication settings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The SAML entity ID for this IAM instance</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_ENTITY_ID</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Text shown in the SAML login button on the IAM login page</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_LOGIN_BUTTON_TEXT</span><span style="color:#ce5c00;font-weight:bold">=</span>Sign in with SAML
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## SAML keystore settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The keystore holding certificates and keys used for SAML crypto</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_KEYSTORE</span><span style="color:#ce5c00;font-weight:bold">=</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The SAML keystore password</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_KEYSTORE_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The identifier of the key that should be used to sign requests/assertions</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_KEY_ID</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The password of the SAML key that will be used to sign requests/assertions</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_KEY_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Metadata settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># a URL pointing to the SAML federation or IdP metadata</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_IDP_METADATA</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Metadata refresh period (in seconds)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_METADATA_LOOKUP_SERVICE_REFRESH_PERIOD_SEC</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Should signature validity checks be enforced on metadata?</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_METADATA_REQUIRE_VALID_SIGNATURE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Trust only IdPs that have SIRTFI compliance</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_METADATA_REQUIRE_SIRTFI</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Comma-separated IDP entity ID whitelist. When empty</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># all IdPs included in the metadata are whitelisted</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_IDP_ENTITY_ID_WHITELIST</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Assertion validity settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Maxixum allowed assertion time (in seconds)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_MAX_ASSERTION_TIME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Maximum authentication age (in seconds)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_MAX_AUTHENTICATION_AGE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">86400</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## Other settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># List of attribute aliases that are looked up in assertion to identify the </span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># user authenticated with SAML</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_SAML_ID_RESOLVERS</span><span style="color:#ce5c00;font-weight:bold">=</span>eduPersonUniqueId,eduPersonTargetedId,eduPersonPrincipalName
</span></span></code></pre></div><p>For more information and examples, see the <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/saml/">SAML Authentication
section</a>.</p>
<h2 id="notification-service-settings">Notification service settings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## SMTP mail server settings </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># SMTP server hostname </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_MAIL_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span>localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># SMTP server port </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_MAIL_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">25</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># SMTP server username</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_MAIL_USERNAME</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># SMTP server password</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_MAIL_PASSWORD</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">## IAM notification settings</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Should the notification server be disabled?</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># When set to true, notifications are not sent to the mail server (but</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># printed to the logs)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_DISABLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The email address used as the sender in IAM email notifications</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_FROM</span><span style="color:#ce5c00;font-weight:bold">=</span>indigo@localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The email address used as the recipient in IAM email notifications</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_ADMIN_ADDRESS</span><span style="color:#ce5c00;font-weight:bold">=</span>indigo-alerts@localhost
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Notification policy for account requests. The default value is notify-address</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># meaning that notifications just arrive to the email address</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># specified above. Set to notify-admins if you want to notify</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># all IAM admins or to notify-address-and-admins to combine the two behaviors</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_ADMIN_NOTIFICATION_POLICY</span><span style="color:#ce5c00;font-weight:bold">=</span>notify-address
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Notification policy for group requests. Default value notifies both</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># admins and group managers. Set to notify-gms if you want to notify only group managers</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_GROUP_MANAGER_NOTIFICATION_POLICY</span><span style="color:#ce5c00;font-weight:bold">=</span>notify-gms-and-admins
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Time interval, in milliseconds, between two consecutive runs of IAM notification </span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># dispatch task </span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_TASK_DELAY</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">30000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Retention of delivered messages, in days</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_NOTIFICATION_CLEANUP_AGE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">30</span>
</span></span></code></pre></div><p>For more customization of the notification service settings, see the <a href="/v/v1.13.0/docs/reference/configuration/notifications/">IAM Notifications section</a>.</p>
<h2 id="account-linking-settings">Account linking settings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Should account linking be disabled? When set to true users cannot</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># link external accounts (Google, SAML) to their local IAM account</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_ACCOUNT_LINKING_DISABLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span> 
</span></span></code></pre></div><h2 id="client-registration">Client registration</h2>
<p>Those variables allow to configure how to register a new client and
the related default settings.</p>
<p>For more information see the <a href="/v/v1.13.0/docs/reference/configuration/client-registration/">Client registration
section</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Specifies who can register a client. Default is anyone, so also not registered users.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Other possible values are: REGISTERED_USERS and ADMINISTRATORS</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_REGISTRATION_ALLOW_FOR</span><span style="color:#ce5c00;font-weight:bold">=</span>ANYONE
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set to false if you do not want to enable client registration (default is true)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_REGISTRATION_ENABLE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">true</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set the default validity in seconds of an AT requested by any newly registered client.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Default is 1 hour, but it can be changed per client</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DEFAULT_ACCESS_TOKEN_VALIDITY_SECONDS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3600</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set the default validity in seconds of a device code requested by any newly registered client.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Default is 10 minutes, but it can be changed per client</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DEFAULT_DEVICE_CODE_VALIDITY_SECONDS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">600</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set the default validity in seconds of an ID token requested by any newly registered client.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Default is 10 minutes, but it can be changed per client</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DEFAULT_ID_TOKEN_VALIDITY_SECONDS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">600</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set the default validity in seconds of an RT requested by any newly registered client.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Default is 30 days, but it can be changed per client</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_DEFAULT_REFRESH_TOKEN_VALIDITY_SECONDS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2592000</span>
</span></span></code></pre></div><h2 id="client-lifecycle">Client lifecycle</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Record the last date when each client was used to create or refresh a token</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># This is used to determine which clients are considered active/inactive</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_CLIENT_TRACK_LAST_USED</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87">false</span>
</span></span></code></pre></div><h2 id="privacy-policy-settings">Privacy policy settings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># An URL pointing to a privacy policy document which applies</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># to this IAM instance. When left blank, no privacy policy link </span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># is displayed in the login page</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_PRIVACY_POLICY_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># The text displayed in the login page for the privacy policy URL specified</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># above</span>
</span></span><span style="display:flex;"><span><span style="color:#000">IAM_PRIVACY_POLICY_TEXT</span><span style="color:#ce5c00;font-weight:bold">=</span>Privacy policy
</span></span></code></pre></div>
  <div class="section-index">
    
    
    <hr class="panel-line">
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/jwt-profiles/">JWT profiles support</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/multi-factor-authn/">Multi-Factor Authentication (MFA)</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/system-scopes/">MitreID System Scopes</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/group-enrollment/">Automatic group enrollment</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/lifecycle/">Membership lifecycle</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/rcauth/">Integration with RCAuth</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/registration/">Registration &amp; Enrollment</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/scim-response/">Handling SCIM response</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/client-registration/">Client registration</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/notifications/">IAM Notifications</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/jwk/">JSON Web Keys (JWK)</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/local_authn/">Local authentication</a>
                </h5>
                <p></p>
            </div>
        <div class="entry">
                <h5>
                    <a href="/v/v1.13.0/docs/reference/configuration/external-authentication/">External authentication</a>
                </h5>
                <p></p>
            </div>
        </div>
<div class="td-page-meta__lastmod">
  Last modified June 13, 2025: <a href="https://github.com/indigo-iam/iam-website/commit/755681bdecb1b5e1cdbe7ee146f4fa15c1c7eda7">Add documentation on IAM cache (#156) (755681b)</a>
</div>
</div>

          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        
      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/indigo-iam/iam" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Slack" aria-label="Slack">
    <a target="_blank" rel="noopener" href="https://indigo-iam.slack.com" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2025
    <span class="td-footer__authors">INFN</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/v/v1.13.0/js/main.min.dc2c0119076a0df855e55a8044ce0de74b7b9033c20e853e22d7ec7e9bdde965.js" integrity="sha256-3CwBGQdqDfhV5VqARM4N50t7kDPCDoU&#43;Itfsfpvd6WU=" crossorigin="anonymous"></script>
<script defer src="/v/v1.13.0/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/v/v1.13.0/js/tabpane-persist.js'></script>

  </body>
</html>