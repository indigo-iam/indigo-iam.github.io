<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.86.0" /><link rel="alternate" type="text/html" href="/v/v1.7.2/docs/reference/configuration/jwt-profiles/_print/">
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="/v/v1.7.2/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/v/v1.7.2/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/v/v1.7.2/favicons/android-192x192.png" sizes="192x192">

<title>JWT profiles support | INDIGO IAM</title><meta property="og:title" content="JWT profiles support" />
<meta property="og:description" content="The INDIGO Identity and Access Management (IAM) Service" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/v/v1.7.2/docs/reference/configuration/jwt-profiles/" /><meta property="og:site_name" content="INDIGO IAM" />

<meta itemprop="name" content="JWT profiles support">
<meta itemprop="description" content="The INDIGO Identity and Access Management (IAM) Service"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="JWT profiles support"/>
<meta name="twitter:description" content="The INDIGO Identity and Access Management (IAM) Service"/>







<link rel="preload" href="/v/v1.7.2/scss/main.min.8c56a5db29a8a7bfd7c31c587d450fd15c23c45c8cd6e72142c8ed5b2ef43bd5.css" as="style">
<link href="/v/v1.7.2/scss/main.min.8c56a5db29a8a7bfd7c31c587d450fd15c23c45c8cd6e72142c8ed5b2ef43bd5.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/v/v1.7.2/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">INDIGO IAM</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link active" href="/v/v1.7.2/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link" href="/v/v1.7.2/blog/" ><span>Blog</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://indigo-iam.github.io/v/current">v1.7.2</a>
	
	<a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.7.1">v1.7.1</a>
	
	<a class="dropdown-item" href="https://indigo-iam.github.io/v/v1.7.0">v1.7.0</a>
	
	<a class="dropdown-item" href="https://indigo-iam.github.io/docs/v/current/">older releases</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/v/v1.7.2/offline-search-index.30af2b22c6c3c15e69fbe2a311da9992.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center d-lg-none">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/v/v1.7.2/offline-search-index.30af2b22c6c3c15e69fbe2a311da9992.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="vv172docs">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/overview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsoverview">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-started">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/nginx/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">NGINX configuration</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-startednginx">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/mariadb/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Database configuration</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-startedmariadb">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/jwk/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">JSON Web Keys configuration</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-startedjwk">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/docker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deployment with Docker</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-starteddocker">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/packages/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deployment with packages</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-startedpackages">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/getting-started/basic_setup/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Basic IAM setup</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsgetting-startedbasic_setup">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse show" id="vv172docsreference">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">APIs</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapi">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/aup-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">AUP management API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapiaup-api">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/group-requests/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Group requests API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapigroup-requests">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/health_endpoints/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Health checks</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapihealth_endpoints">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/tokens-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">IAM Token management API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapitokens-api">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/oauth-token-exchange/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">OAuth token exchange API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapioauth-token-exchange">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/oauth-token-introspection/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">OAuth token introspection API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapioauth-token-introspection">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/oidc-client-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">OpenID Connect client management API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapioidc-client-management">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/oidc-client-registration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">OpenID Connect client registration API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapioidc-client-registration">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/scim-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SCIM API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapiscim-api">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/scope-policy-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Scope Policy API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapiscope-policy-api">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/api/token-exchange-policy-api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Token exchange policy API</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceapitoken-exchange-policy-api">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Configuration</a>
  </li>
  <ul>
    <li class="collapse show" id="vv172docsreferenceconfiguration">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/jwt-profiles/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">JWT profiles support</a>
  </li>
  <ul>
    <li class="collapse show" id="vv172docsreferenceconfigurationjwt-profiles">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/lifecycle/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Membership lifecycle</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationlifecycle">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/registration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Registration &amp; Enrollment</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationregistration">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/local_authn/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Local authentication</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationlocal_authn">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/external-authentication/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">External authentication</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationexternal-authentication">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/external-authentication/oidc/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">OpenID-Connect authentication</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationexternal-authenticationoidc">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/external-authentication/saml/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SAML authentication</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationexternal-authenticationsaml">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/reference/configuration/external-authentication/x509/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">X.509 authentication</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsreferenceconfigurationexternal-authenticationx509">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tasks</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasks">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/administration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">IAM organization administration</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksadministration">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/administration/user-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">User management</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksadministrationuser-management">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/administration/group-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Group Management</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksadministrationgroup-management">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/administration/aup-management/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Acceptable Usage Policy (AUP) management</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksadministrationaup-management">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/deployment/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">IAM service deployment</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksdeployment">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/deployment/backup_restore/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Backup &amp; Restore</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksdeploymentbackup_restore">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/deployment/audit-log/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Audit log</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksdeploymentaudit-log">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/deployment/upgrade/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Upgrade</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksdeploymentupgrade">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/deployment/voms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying the IAM VOMS attribute authority</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksdeploymentvoms">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">User</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuser">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/joining-a-collaboration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Joining an IAM-managed organization</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserjoining-a-collaboration">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/getting-a-token/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Obtaining an IAM access token from a CLI</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksusergetting-a-token">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/client-registration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Registering a client</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserclient-registration">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/change-details/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Change account information</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserchange-details">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/change-password/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Changing the account password</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserchange-password">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/external-account-linking/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Linking an external account</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserexternal-account-linking">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/x509-linking/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Linking an X.509 certificate</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserx509-linking">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/manage-active-tokens/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Managing active tokens</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksusermanage-active-tokens">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/manage-approved-sites/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Managing approved sites</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksusermanage-approved-sites">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/manage-ssh-keys/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Managing SSH keys</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksusermanage-ssh-keys">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/tasks/user/reset-password/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reset an account password</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docstasksuserreset-password">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/developer-guide/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Developer guide</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsdeveloper-guide">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/developer-guide/specs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Specifications</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsdeveloper-guidespecs">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/iam-aas/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">IAM as a service</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsiam-aas">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/iam-aas/privacy-policy/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Privacy policy</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsiam-aasprivacy-policy">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/iam-aas/sla/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Service Level Agreement</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsiam-aassla">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v/v1.7.2/docs/iam-aas/terms-of-service/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Terms of service</a>
  </li>
  <ul>
    <li class="collapse " id="vv172docsiam-aasterms-of-service">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











<a href="https://github.com/indigo-iam/iam-website/edit/v1.7.2/content/en/docs/reference/configuration/jwt-profiles/_index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/indigo-iam/iam-website/new/v1.7.2/content/en/docs/reference/configuration/jwt-profiles/_index.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/indigo-iam/iam-website/issues/new?title=JWT%20profiles%20support" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/indigo-iam/iam/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>



<a id="print" href="/v/v1.7.2/docs/reference/configuration/jwt-profiles/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>



</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#setting-the-default-profile">Setting the default profile</a></li>
    <li><a href="#using-scopes-to-select-the-jwt-profile-for-a-client">Using scopes to select the JWT profile for a client</a></li>
    <li><a href="#using-system-scopes-to-control-profile-selection">Using system scopes to control profile selection</a></li>
    <li><a href="#supported-jwt-profiles">Supported JWT profiles</a>
      <ul>
        <li><a href="#the-iam-profile">The IAM profile</a></li>
        <li><a href="#the-wlcg-profile">The WLCG profile</a></li>
        <li><a href="#the-aarc-profile">The AARC profile</a></li>
      </ul>
    </li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="/v/v1.7.2/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="/v/v1.7.2/docs/reference/">Reference</a>
</li>




<li class="breadcrumb-item" >
	<a href="/v/v1.7.2/docs/reference/configuration/">Configuration</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/v/v1.7.2/docs/reference/configuration/jwt-profiles/">JWT profiles support</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>JWT profiles support</h1>
        
	
	<p>Starting with version 1.6.0, IAM introduces support for JWT <em>profiles</em>.</p>
<p>A JWT profile is a named set of rules that defines which information is
included in access tokens, id tokens,  userinfo and introspection responses
issued by IAM in an OAuth/OIDC message exchanges.</p>
<p>IAM allows to define a default profile that is used for all clients that are
not explicitly bound to one. This allows to use the same profile across
all clients in an organization.</p>
<p>It&rsquo;s also possible to define the profile to be used at client level, using
scopes, i.e. adding among the scope allowed for the client the name of the
profile the client should use. The scope, in this context, does not identify a
set of permissions but an encoding of authentication/authorization informations
in tokens and responses issued by IAM.</p>
<p>This mechanism enables integration of the same IAM instance with resources
relying on different profiles.</p>
<p>IAM currently supports three JWT profiles:</p>
<ul>
<li>the <code>iam</code> profile</li>
<li>the <code>wlcg</code> WLCG profile</li>
<li>the <code>aarc</code> profile</li>
</ul>
<h2 id="setting-the-default-profile">Setting the default profile</h2>
<p>The IAM JWT default profile is set using the <code>IAM_JWT_DEFAULT_PROFILE</code>
environment variable, e.g.:</p>
<pre><code>IAM_JWT_DEFAULT_PROFILE=iam
</code></pre><p>The default profile will be used for all clients that do not explicitly and
correctly request the use of a profile using scopes.</p>
<h2 id="using-scopes-to-select-the-jwt-profile-for-a-client">Using scopes to select the JWT profile for a client</h2>
<p>To select the profile used by a client, include one of the following scopes
in the list of scopes authorized for a client:</p>
<ul>
<li><code>iam</code>, for the IAM profile</li>
<li><code>wlcg</code>, for the WLCG profile</li>
<li><code>aarc</code> profile, for the AARC profile</li>
</ul>
<p>Clients should only link to one profile. When multiple profiles are linked to a
client, IAM falls back to the default profile configured for the IAM instance.</p>
<h2 id="using-system-scopes-to-control-profile-selection">Using system scopes to control profile selection</h2>
<p>MitreID <strong>System Scopes</strong> can be used to control access to profile selection.</p>
<p>For example, by setting a profile scope as <code>restricted</code>, such scope will not be
available to dynamically registered clients and can only be assigned to clients
by IAM administrators.</p>
<h2 id="supported-jwt-profiles">Supported JWT profiles</h2>
<h3 id="the-iam-profile">The IAM profile</h3>
<p>This is the default profile for IAM.</p>
<p>With this profile:</p>
<ul>
<li>
<p>groups are enconded in the <code>groups</code> claim; all the groups the user is member
of are included in the groups claim;</p>
</li>
<li>
<p>authentication information (username, email, groups) is not by default
included in access tokens; this behaviour can be changed by setting the
<code>IAM_ACCESS_TOKEN_INCLUDE_AUTHN_INFO=true</code> environment variable;</p>
</li>
<li>
<p>scope information is not by default included in access tokens; this behaviour
can be changed by setting the <code>IAM_ACCESS_TOKEN_INCLUDE_SCOPE=true</code>
environment variable;</p>
</li>
<li>
<p>the <code>nbf</code> (not before) claim is not set in access tokens; this behaviour
can be changed by setting the <code>IAM_ACCESS_TOKEN_INCLUDE_NBF=true</code>
environment variable;</p>
</li>
</ul>
<p>This profile is assigned to clients using the <code>iam</code>  scope.</p>
<h3 id="the-wlcg-profile">The WLCG profile</h3>
<p>This profile implements the <a href="https://zenodo.org/record/3460258">Common JWT Token profile</a>.</p>
<p>In particular:</p>
<ul>
<li>the <code>scope</code> claim is always included in access tokens;</li>
<li>groups are not included by default in access and ID tokens;</li>
</ul>
<p>This profile is assigned to clients using the <code>wlcg</code> scope.</p>
<h4 id="requesting-groups-with-the-wlcg-profile">Requesting groups with the WLCG profile</h4>
<p>When the WLCG profile is used, groups are not automatically included in access
tokens and ID tokens, but can be requested using the <code>wlcg.groups</code> scope,
following the rules described in the <a href="https://github.com/WLCG-AuthZ-WG/CommonJWTProfile/blob/master/profile.md#scope-based-group-selection">WLCG
profile</a>.</p>
<h4 id="optional-groups">Optional groups</h4>
<p>Optional groups are groups whose membership is only asserted in tokens on
explicit request coming from a user.</p>
<p>In order to configure a IAM group as an optional group, add the
<code>wlcg.optional-group</code> label to the group.</p>
<h3 id="the-aarc-profile">The AARC profile</h3>
<p>This profile encodes group membership information following the rules defined
by the <a href="https://aarc-project.eu/guidelines/aarc-g002/">AARC G002</a> profile document.</p>
<p>In particular:</p>
<ul>
<li>groups and organisation name are not included by default in access and ID tokens;</li>
<li>organisation name can be requested using the <code>eduperson_scoped_affiliation</code> scope and it&rsquo;s encoded in the <code>eduperson_scoped_affiliation</code> claim;</li>
<li>groups can be requested using the <code>eduperson_entitlement</code> scope and they&rsquo;re encoded as URN in the <code>eduperson_entitlement</code> claim;</li>
</ul>
<p>All the mapping rules are described in the <a href="https://docs.google.com/document/d/1b-Mlet3Lq7qKLEf1BnHJ4nL1fq-vMe7fzpXyrq2wp08/edit">White Paper for implementation mappings between SAML 2.0 and OpenID Connect in Research and Education</a>.</p>
<p>This profile is assigned to clients using the <code>aarc</code> scope.</p>

        <div class="section-index">
    
    
    
    
    
    <hr class="panel-line">
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    
</div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified September 9, 2021: <a  href="https://github.com/indigo-iam/iam-website/commit/68307145e26f809943ca897c736ebd1faa190d03">Massive renaming (6830714)</a>
</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/indigo-iam/iam">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://indigo-iam.slack.com">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 INFN All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>













<script src="/v/v1.7.2/js/main.min.63db3e552bd0543be17ce4a79a18b744e9cb72256bec42b540e3ab0cd43722d0.js" integrity="sha256-Y9s&#43;VSvQVDvhfOSnmhi3ROnLciVr7EK1QOOrDNQ3ItA=" crossorigin="anonymous"></script>




  </body>
</html>